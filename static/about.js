(function(){Array.prototype.remove=function(from,to){var rest,_ref;rest=this.slice((to||from)+1||this.length);this.length=(_ref=from<0)!=null?_ref:this.length+{from:from};return this.push.apply(this,rest);};Array.prototype.contains=function(a){var i,_i,_ref;for(i=_i=0,_ref=this.length;0<=_ref?_i<=_ref:_i>=_ref;i=0<=_ref?++_i:--_i)if(this[i]===a)return true;return false;};if(!("classList" in document.documentElement)&&Object.defineProperty&&typeof HTMLElement!=='undefined')Object.defineProperty(HTMLElement.prototype,'classList',{get:function(){var self=this;function update(fn){return function(value){var classes=self.className.split(/\s+/),index=classes.indexOf(value);fn(classes,index,value);self.className=classes.join(" ");};}var ret={add:update(function(classes,index,value){~index||classes.push(value);}),remove:update(function(classes,index){~index&&classes.splice(index,1);}),toggle:update(function(classes,index,value){~index?classes.splice(index,1):classes.push(value);}),contains:function(value){return !!~self.className.split(/\s+/).indexOf(value);},item:function(i){return self.className.split(/\s+/)[i]||null;}};Object.defineProperty(ret,'length',{get:function(){return self.className.split(/\s+/).length;}});return ret;}});;}).call(this);(function(){var confirm,confirmCallback,createCookie,dataURItoBlob,guid,readCookie,s4,switchTheme;readCookie=function(name){var c,ca,nameEQ,_i,_len;nameEQ=name+"=";ca=document.cookie.split(';');for(_i=0,_len=ca.length;_i<_len;_i++){c=ca[_i];while(c.charAt(0)===' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}return null;};window.readCookie=readCookie;createCookie=function(name,value,days){var date,expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else expires="; expires=Thu, 01-Jan-1970 00:00:01 GMT";return document.cookie=name+"="+value+expires+"; path=/";};window.createCookie=createCookie;dataURItoBlob=function(uri){var ab,byteString,i,ia,mimeString,_i,_ref;byteString=atob(uri.split(',')[1]);mimeString=uri.split(',')[0].split(':')[1].split(':')[0];ab=new ArrayBuffer(byteString.length);ia=new Uint8Array(ab);for(i=_i=0,_ref=byteString.length;0<=_ref?_i<=_ref:_i>=_ref;i=0<=_ref?++_i:--_i)ia[i]=byteString.charCodeAt(i);return new Blob([ab],{type:'image/png'});};window.dataURItoBlob=dataURItoBlob;switchTheme=function(){if(readCookie('dark_theme'))createCookie('dark_theme','',-1);else createCookie('dark_theme',1,3650);return window.location.href=window.location.href;};window.switchTheme=switchTheme;confirmCallback=null;window.addEventListener('DOMContentLoaded',function(){var dialogNo,dialogYes,feedback,feedbackSend,feedbackToggle;if(document.getElementById('feedback')!==null){feedback=document.getElementById('feedback').querySelector('div');feedbackToggle=document.getElementById('toggle-feedback');if(feedbackToggle)feedbackToggle.addEventListener('click',function(e){e.preventDefault();if(feedbackToggle.parentElement.className.indexOf('active')===-1){feedbackToggle.parentElement.classList.add('active');return feedback.querySelector('textarea').focus();}else return feedbackToggle.parentElement.classList.remove('active');},false);feedbackSend=document.getElementById('send-feedback');if(feedbackSend)feedbackSend.addEventListener('click',function(e){var feedbackText,formData,xhr;e.preventDefault();feedbackText=document.getElementById('feedback-text');xhr=new XMLHttpRequest();formData=new FormData();xhr.open('POST','/api/feedback');formData.append('feedback',feedbackText.value);xhr.onload=function(){var result;result=(function(){switch(this.status){case 200:return "Thanks! We read every one of these. Keep in mind, though, this feedback is anonymous. <a href='mailto:support@mediacru.sh'>Email us</a> if you want a response.";case 420:return "Sorry, you can't send more feedback today. Try again in 24 hours!";case 413:return "Sorry, that feedback is too long.";default:return "Sorry, something unexpected happened.";}}).call(this);return feedback.innerHTML="<p>"+result+"</p>";};return xhr.send(formData);},false);}dialogYes=document.querySelector('.dialog .yes');dialogNo=document.querySelector('.dialog .no');if(dialogYes!==null){dialogYes.addEventListener('click',function(e){e.preventDefault();if(confirmCallback)confirmCallback(true);confirmCallback=null;return document.querySelector('.dialog').classList.add('hidden');},false);return dialogNo.addEventListener('click',function(e){e.preventDefault();if(confirmCallback)confirmCallback(false);confirmCallback=null;return document.querySelector('.dialog').classList.add('hidden');},false);}},false);confirm=function(callback){confirmCallback=callback;document.querySelector('.dialog').classList.remove('hidden');return document.querySelector('.dialog .no').focus();};window.confirm=confirm;window.addEventListener('keydown',function(e){if(confirmCallback===null)return;if(e.keyCode===27){if(confirmCallback)confirmCallback(false);confirmCallback=null;return document.querySelector('.dialog').classList.add('hidden');}},false);s4=function(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);};guid=function(){return s4()+s4()+'-'+s4()+'-'+s4()+'-'+s4()+'-'+s4()+'-'+s4()+s4()+s4();};window.guid=guid;window.getPosition=function(e){var x,y;x=0;y=0;while(true){x+=e.offsetLeft;y+=e.offsetTop;if(e.offsetParent===null)break;e=e.offsetParent;}return [x,y];};window.addEventListener('DOMContentLoaded',function(e){var link,_i,_len,_ref,_results;_ref=document.querySelectorAll('.ad-opt-out');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){link=_ref[_i];_results.push(link.addEventListener('click',function(e){var a,ad,_j,_k,_l,_len1,_len2,_len3,_ref1,_ref2,_ref3,_results1;e.preventDefault();if(readCookie('ad-opt-out')){e.target.textContent='opt-out';_ref1=document.querySelectorAll('.ad-state');for(_j=0,_len1=_ref1.length;_j<_len1;_j++){a=_ref1[_j];a.textContent='opted-in';}createCookie('ad-opt-out','',-1);}else{e.target.textContent='opt-in';_ref2=document.querySelectorAll('.ad-state');for(_k=0,_len2=_ref2.length;_k<_len2;_k++){a=_ref2[_k];a.textContent='opted-out';}createCookie('ad-opt-out',1,3650);}_ref3=document.querySelectorAll('.advertisement');_results1=[];for(_l=0,_len3=_ref3.length;_l<_len3;_l++){ad=_ref3[_l];_results1.push(ad.innerHTML="Sorry! You won't see any ads again. If you change your mind, <a href='/advertising'>opt-in here</a>.");}return _results1;},false));}return _results;},false);if(!window.embedded)console.log("  -++++:--`                  \n -hddddddddhy+/.             \n-hddddddddddddddhy/.         \n`ydddddddddddddddddddy+`      \n+ddddddhsoooshyooooydddhs:    \nddddddo`     `      ydddddy:  \ndddddh` `yh+  :hy.  yddddddds`  Want to read the unobsfucated source? Check it out\nddddds  :dd:  sdy` .hddddddddh  at https://github.com/MediaCrush/MediaCrush\nddddd/  odh. `hdo  /dddddddh+`\nhdddh. `hds  :dh:  sddddddy-    Send us some pull requests!\n/dddhsssddyssydhssshdddh+-    \n`ydddddddddddddddddddy+`      \n-hddddddddddddddhy/.         \n -hdddddddddyo/-`            \n  -++++/--``                 \n\nTry exploring `window.API` and `window.UserHistory` to have some fun.");}).call(this);(function(){window.addEventListener('DOMContentLoaded',function(){var link,_i,_len,_ref,_results;_ref=document.querySelectorAll('.nav a');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){link=_ref[_i];_results.push(link.addEventListener('click',function(e){var div,h2,target,_j,_k,_len1,_len2,_ref1,_ref2;e.preventDefault();document.querySelector('.nav li.selected').classList.remove('selected');e.target.parentElement.classList.add('selected');target=e.target.hash.substr(1);_ref1=document.querySelectorAll('.intro h2');for(_j=0,_len1=_ref1.length;_j<_len1;_j++){h2=_ref1[_j];h2.classList.add('hidden');}document.getElementById(""+target+"-intro").classList.remove('hidden');_ref2=document.querySelectorAll('.pill-content > div');for(_k=0,_len2=_ref2.length;_k<_len2;_k++){div=_ref2[_k];div.classList.add('hidden');}return document.getElementById(target).classList.remove('hidden');},false));}return _results;},false);}).call(this);